'''
Source of the parity check matrices: http://www.atsc.org/wp-content/uploads/2016/10/A322-2016-Physical-Layer-Protocol.pdf
'''

from sigcom.coding.util import CodeParam


def get(code_rate_id):
    if code_rate_id == [2, 15]:
        pck = [[2889, 3122, 3208, 4324, 5968, 7241, 13215],
               [281, 923, 1077, 5252, 6099, 10309, 11114],
               [727, 2413, 2676, 6151, 6796, 8945, 12528],
               [2252, 2322, 3093, 3329, 8443, 12170, 13748],
               [575, 2489, 2944, 6577, 8772, 11253, 11657],
               [310, 1461, 2482, 4643, 4780, 6936, 11970],
               [8691, 9746, 10794, 13582],
               [3717, 6535, 12470, 12752],
               [6011, 6547, 7020, 11746],
               [5309, 6481, 10244, 13824],
               [5327, 8773, 8824, 13343],
               [3506, 3575, 9915, 13609],
               [3393, 7089, 11048, 12816],
               [3651, 4902, 6118, 12048],
               [4210, 10132, 13375, 13377]]
    elif code_rate_id == [3, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [4, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [5, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [6, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [7, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [8, 15]:
        pck = [[5, 519, 825, 1871, 2098, 2478, 2659, 2820, 3200, 3294, 3650, 3804, 3949, 4426, 4460, 4503, 4568, 4590, 4949, 5219, 5662, 5738, 5905, 5911, 6160, 6404, 6637, 6708, 6737, 6814, 7263, 7412],
               [81, 391, 1272, 1633, 2062, 2882, 3443, 3503, 3535, 3908, 4033, 4163, 4490, 4929, 5262, 5399, 5576, 5768, 5910, 6331, 6430, 6844, 6867, 7201, 7274, 7290, 7343, 7350, 7378, 7387, 7440, 7554],
               [105, 975, 3421, 3480, 4120, 4444, 5957, 5971, 6119, 6617, 6761, 6810, 7067, 7353],
               [6, 138, 485, 1444, 1512, 2615, 2990, 3109, 5604, 6435, 6513, 6632, 6704, 7507],
               [20, 858, 1051, 2539, 3049, 5162, 5308, 6158, 6391, 6604, 6744, 7071, 7195, 7238],
               [1140, 5838, 6203, 6748],
               [6282, 6466, 6481, 6638],
               [2346, 2592, 5436, 7487],
               [2219, 3897, 5896, 7528],
               [2897, 6028, 7018],
               [1285, 1863, 5324],
               [3075, 6005, 6466],
               [5, 6020, 7551],
               [2121, 3751, 7507],
               [4027, 5488, 7542],
               [2, 6012, 7011],
               [3823, 5531, 5687],
               [1379, 2262, 5297],
               [1882, 7498, 7551],
               [3749, 4806, 7227],
               [2, 2074, 6898],
               [17, 616, 7482],
               [9, 6823, 7480],
               [5195, 5880, 7559]]
    elif code_rate_id == [9, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [10, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [11, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [12, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [13, 15]:
        assert False, 'Implement!'

    return CodeParam(pck=pck, N=16200,
                     code_rate_id=code_rate_id, nCyclicFactor=360)
