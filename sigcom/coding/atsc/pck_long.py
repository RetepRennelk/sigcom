'''
Source of the parity check matrices: http://www.atsc.org/wp-content/uploads/2016/10/A322-2016-Physical-Layer-Protocol.pdf
'''

from sigcom.coding.util import CodeParam


def get_pck(code_rate_id):
    if code_rate_id == [2, 15]:
        pck = [[615,898,1029,6129,8908,10620,13378,14359,21964,23319,26427,26690,28128,33435,36080,40697,43525,44498,50994],
                [165,1081,1637,2913,8944,9639,11391,17341,22000,23580,32309,38495,41239,44079,47395,47460,48282,51744,52782],
                [426,1340,1493,2261,10903,13336,14755,15244,20543,29822,35283,38846,45368,46642,46934,48242,49000,49204,53370],
                [407,1059,1366,2004,5985,9217,9321,13576,19659,20808,30009,31094,32445,39094,39357,40651,44358,48755,49732],
                [692,950,1444,2967,3929,6951,10157,10326,11547,13562,19634,34484,38236,42918,44685,46172,49694,50535,55109],
                [1087,1458,1574,2335,3248,6965,17856,23454,25182,37359,37718,37768,38061,38728,39437,40710,46298,50707,51572],
                [1098,1540,1711,7723,9549,9986,16369,19567,21185,21319,25750,32222,32463,40342,41391,43869,48372,52149,54722],
                [514,1283,1635,6602,11333,11443,17690,21036,22936,24525,25425,27103,28733,29551,39204,42525,49200,54899,54961],
                [357,609,1096,2954,4240,5397,8425,13974,15252,20167,20362,21623,27190,42744,47819,49096,51995,55504,55719],
                [25,448,1501,11572,13478,24338,29198,29840,31428,33088,34724,37698,37988,38297,40482,46953,47880,53751,54943],
                [328,1096,1262,10802,12797,16053,18038,20433,20444,25422,32992,34344,38326,41435,46802,48766,49807,52966,55751],
                [34,790,987,5082,5788,10778,12824,18217,23278,24737,28312,34464,36765,37999,39603,40797,43237,53089,55319],
                [226,1149,1470,3483,8949,9312,9773,13271,17804,20025,20323,30623,38575,39887,40305,46986,47223,49998,52111],
                [1088,1091,1757,2682,5526,5716,9665,10733,12997,14440,24665,27990,30203,33173,37423,38934,40494,45418,48393],
                [809,1278,1580,3486,4529,6117,6212,6823,7861,9244,11559,20736,30333,32450,35528,42968,44485,47149,54913],
                [369,525,1622,2261,6454,10483,11259,16461,17031,20221,22710,25137,26622,27904,30884,31858,44121,50690,56000],
                [423,1291,1352,7883,26107,26157,26876,27071,31515,35340,35953,36608,37795,37842,38527,41720,46206,47998,53019],
                [540,662,1433,2828,14410,22880,24263,24802,28242,28396,35928,37214,39748,43915,44905,46590,48684,48890,55926],
                [214,1291,1622,7311,8985,20952,22752,23261,24896,25057,28826,37074,37707,38742,46026,51116,51521,52956,54213],
                [109,1305,1676,2594,7447,8943,14806,16462,19730,23430,24542,34300,36432,37133,41199,43942,45860,47598,48401,49407],
                [242,388,1360,6721,14220,21029,22536,25126,32251,33182,39192,42436,44144,45252,46238,47369,47607,47695,50635,51469],
                [199,958,1111,13661,18809,19234,21459,25221,25837,28256,36919,39031,39107,39262,43572,45018,45959,48006,52387,55811],
                [668,1087,1451,2945,3319,12519,21248,21344,22627,22701,28152,29670,31430,32655,38533,42233,43200,44013,44459,51398],
                [244,1133,1665,8222,8740,11285,12774,15922,20147,20978,28927,35086,40197,40583,41066,41223,42104,44650,45391,48437],
                [5623,8050,9679,12978,15846,16049,21807,23364,27226,27758,28661,38147,46337,48141,51364,51927,55124],
                [10369,13704,14491,18632,19430,21218,33392,36182,36722,37342,37415,46322,47449,51136,53392,54356,55108],
                [7460,9411,11132,11739,13722,15501,25588,26463,26738,31980,31981,35002,39659,39783,41581,51358,55114],
                [8915,15253,15264,16513,16896,18367,19110,23492,32074,33302,42443,43797,44715,47538,48515,53464,53548],
                [5884,8910,10123,11311,13654,14207,16122,18113,23100,23784,24825,39629,46372,52454,52799,55039,55973]]
    elif code_rate_id == [3, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [4, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [5, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [6, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [7, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [8, 15]:
        pck = [[2768,3039,4059,5856,6245,7013,8157,9341,9802,10470,11521,12083,16610,18361,20321,24601,27420,28206,29788],
                [2739,8244,8891,9157,12624,12973,15534,16622,16919,18402,18780,19854,20220,20543,22306,25540,27478,27678,28053],
                [1727,2268,6246,7815,9010,9556,10134,10472,11389,14599,15719,16204,17342,17666,18850,22058,25579,25860,29207],
                [28,1346,3721,5565,7019,9240,12355,13109,14800,16040,16839,17369,17631,19357,19473,19891,20381,23911,29683],
                [869,2450,4386,5316,6160,7107,10362,11132,11271,13149,16397,16532,17113,19894,22043,22784,27383,28615,28804],
                [508,4292,5831,8559,10044,10412,11283,14810,15888,17243,17538,19903,20528,22090,22652,27235,27384,28208,28485],
                [389,2248,5840,6043,7000,9054,11075,11760,12217,12565,13587,15403,19422,19528,21493,25142,27777,28566,28702],
                [1015,2002,5764,6777,9346,9629,11039,11153,12690,13068,13990,16841,17702,20021,24106,26300,29332,30081,30196],
                [1480,3084,3467,4401,4798,5187,7851,11368,12323,14325,14546,16360,17158,18010,21333,25612,26556,26906,27005],
                [6925,8876,12392,14529,15253,15437,19226,19950,20321,23021,23651,24393,24653,26668,27205,28269,28529,29041,29292],
                [2547,3404,3538,4666,5126,5468,7695,8799,14732,15072,15881,17410,18971,19609,19717,22150,24941,27908,29018],
                [888,1581,2311,5511,7218,9107,10454,12252,13662,15714,15894,17025,18671,24304,25316,25556,28489,28977,29212],
                [1047,1494,1718,4645,5030,6811,7868,8146,10611,15767,17682,18391,22614,23021,23763,25478,26491,29088,29757],
                [59,1781,1900,3814,4121,8044,8906,9175,11156,14841,15789,16033,16755,17292,18550,19310,22505,29567,29850],
                [1952,3057,4399,9476,10171,10769,11335,11569,15002,19501,20621,22642,23452,24360,25109,25290,25828,28505,29122],
                [2895,3070,3437,4764,4905,6670,9244,11845,13352,13573,13975,14600,15871,17996,19672,20079,20579,25327,27958],
                [612,1528,2004,4244,4599,4926,5843,7684,10122,10443,12267,14368,18413,19058,22985,24257,26202,26596,27899],
                [1361,2195,4146,6708,7158,7538,9138,9998,14862,15359,16076,18925,21401,21573,22503,24146,24247,27778,29312],
                [5229,6235,7134,7655,9139,13527,15408,16058,16705,18320,19909,20901,22238,22437,23654,25131,27550,28247,29903],
                [697,2035,4887,5275,6909,9166,11805,15338,16381,18403,20425,20688,21547,24590,25171,26726,28848,29224,29412],
                [5379,17329,22659,23062],
                [11814,14759,22329,22936],
                [2423,2811,10296,12727],
                [8460,15260,16769,17290],
                [14191,14608,29536,30187],
                [7103,10069,20111,22850],
                [4285,15413,26448,29069],
                [548,2137,9189,10928],
                [4581,7077,23382,23949],
                [3942,17248,19486,27922],
                [8668,10230,16922,26678],
                [6158,9980,13788,28198],
                [12422,16076,24206,29887],
                [8778,10649,18747,22111],
                [21029,22677,27150,28980],
                [7918,15423,27672,27803],
                [5927,18086,23525],
                [3397,15058,30224],
                [24016,25880,26268],
                [1096,4775,7912],
                [3259,17301,20802],
                [129,8396,15132],
                [17825,28119,28676],
                [2343,8382,28840],
                [3907,18374,20939],
                [1132,1290,8786],
                [1481,4710,28846],
                [2185,3705,26834],
                [5496,15681,21854],
                [12697,13407,22178],
                [12788,21227,22894],
                [629,2854,6232],
                [2289,18227,27458],
                [7593,21935,23001],
                [3836,7081,12282],
                [7925,18440,23135],
                [497,6342,9717],
                [11199,22046,30067],
                [12572,28045,28990],
                [1240,2023,10933],
                [19566,20629,25186],
                [6442,13303,28813],
                [4765,10572,16180],
                [552,19301,24286],
                [6782,18480,21383],
                [11267,12288,15758],
                [771,5652,15531],
                [16131,20047,25649],
                [13227,23035,24450],
                [4839,13467,27488],
                [2852,4677,22993],
                [2504,28116,29524],
                [12518,17374,24267],
                [1222,11859,27922],
                [9660,17286,18261],
                [232,11296,29978],
                [9750,11165,16295],
                [4894,9505,23622],
                [10861,11980,14110],
                [2128,15883,22836],
                [6274,17243,21989],
                [10866,13202,22517],
                [11159,16111,21608],
                [3719,18787,22100],
                [1756,2020,23901],
                [20913,29473,30103],
                [2729,15091,26976],
                [4410,8217,12963],
                [5395,24564,28235],
                [3859,17909,23051],
                [5733,26005,29797],
                [1935,3492,29773],
                [11903,21380,29914],
                [6091,10469,29997],
                [2895,8930,15594],
                [1827,10028,20070]]
    elif code_rate_id == [9, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [10, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [11, 15]:
        assert False, 'Implement!'
    elif code_rate_id == [12, 15]:
        assert False, 'Implement!'        
    elif code_rate_id == [13, 15]:
        assert False, 'Implement!'

    return CodeParam(pck=pck, N=64800,
                     code_rate_id=code_rate_id, nCyclicFactor=360)
